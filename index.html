<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triple A</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
</head>

<body>

    <div class="conteneur-page">

        <header class="boite-entete">
            <div class="infos-principales">
                <h1>{{name_machine}}</h1>
                <h3>Système d'exploitation : {{name_os}} {{name_systeme}}</h3>
                <h3>Adresse IP : {{ip_adress}}</h3>
            </div>

            <div class="infos-secondaires">
                Heure de démarrage : {{start_systeme}}<br>
                Temps depuis le démarrage : {{uptime_systeme}} heures<br>
                Nombre d'utilisateurs : {{name_user}}<br>
            </div>
        </header>

        <div class="materiel">

            <div class="bloc-cpu">
                <h2>Processeur (CPU)</h2>
                <div class="contenu-cpu">
                    Nombre de cœurs : {{heart_cpu}}<br>
                    Fréquence (Hz) : {{freq_cpu}}<br><br>

                    <div class="jauge">
                        <div class="jauge-remplissage" id="cpu-fill"></div>
                        <div class="jauge-texte" id="cpu-text">{{percent_cpu}}</div>
                    </div>
                </div>
            </div>

            <div class="bloc-ram">
                <h2>Mémoire vive (RAM)</h2>
                <div class="contenu-ram">
                    RAM utilisée : {{use_ram}} Go / {{full_ram}} Go<br><br>

                    <div class="jauge">
                        <div class="jauge-remplissage" id="ram-fill"></div>
                        <div class="jauge-texte" id="ram-text">{{percent_ram}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="logiciels">

        <h2>Logiciels</h2>

        <div class="liste-processus">
            <h3>Liste des processus</h3>

            <div class="tableau-processus entete">
                <div class="colonne">Nom du processus (PID)</div>
                <div class="colonne2">CPU %</div>
                <div class="colonne2">RAM %</div>
            </div>

            {% for p in list_proc %}
            <div class="tableau-processus ligne">
                <div class="colonne">{{ p.name }} ({{ p.pid }})</div>
                <div class="colonne2">{{ "%.1f" | format(p.cpu_percent) }}</div>
                <div class="colonne2">{{ "%.1f" | format(p.memory_percent) }}</div>
            </div>
            {% endfor %}
        </div>

        
        <div class="pagination-container">
            <nav aria-label="Pagination des processus">
                <ul class="pagination">
                    <li class="page-item" id="prev-btn">
                        <a class="page-link" href="#" aria-label="Précédent">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>

                    <li class="page-item" id="next-btn">
                        <a class="page-link" href="#" aria-label="Suivant">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>

    </div>

    <script src="{{ url_for('static', filename='js/gauge.js') }}"></script>

    <script src="{{ url_for('static', filename='js/Gauge.js') }}"></script>

    <footer>
        <div class="footer-contenu">
            <p>Développé par :</p>
            <p>
                Florian D'agostino, 
                Nathan Camredon, 
                Ludovic Dos Santos, 
                Guillaume Ciampa
            </p>
        </div>
    </footer>

</body>

</html>